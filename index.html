<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5">
    <title>H-Boost æŸç›Šè®¡ç®—å™¨ Â· ç»æµæ¨¡å‹éªŒè¯</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }
        body {
            background: #f5f9fc;
            margin: 0;
            min-height: 100vh;
            padding: 2rem 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .container {
            max-width: 1300px;
            width: 100%;
            background: white;
            border-radius: 36px;
            box-shadow: 0 25px 40px -15px rgba(0,20,50,0.1);
            padding: 2rem 2rem 2.5rem;
        }
        h1 {
            font-size: 2.2rem;
            font-weight: 650;
            margin: 0 0 0.25rem;
            letter-spacing: -0.01em;
            background: linear-gradient(145deg, #0c2b44, #1d4e6e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .sub {
            color: #3a6279;
            font-size: 1rem;
            margin-bottom: 2rem;
            border-bottom: 1px solid #dbe7f0;
            padding-bottom: 1.2rem;
        }
        .badge {
            background: #1c4e6c;
            color: white;
            padding: 0.25rem 0.8rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.3px;
            display: inline-block;
            margin-right: 0.5rem;
        }
        .calculator-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 1.2rem;
        }
        @media (max-width: 900px) {
            .calculator-panel {
                grid-template-columns: 1fr;
                gap: 1.8rem;
            }
        }
        .input-section {
            background: #f6fbfe;
            border-radius: 28px;
            padding: 1.8rem;
            border: 1px solid #d1e2ee;
        }
        .output-section {
            background: linear-gradient(145deg, #f1f8ff, #ffffff);
            border-radius: 28px;
            padding: 1.8rem;
            border: 1px solid #cde0ed;
            box-shadow: 0 8px 20px rgba(0,60,100,0.04);
        }
        .param-row {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            margin-bottom: 1.2rem;
        }
        .param-label {
            flex: 0 0 160px;
            font-weight: 550;
            color: #0e3a51;
            font-size: 0.95rem;
        }
        .param-input {
            flex: 1 1 200px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        input[type=number] {
            width: 140px;
            padding: 0.7rem 1rem;
            border: 1px solid #b6d0e2;
            border-radius: 18px;
            font-size: 1rem;
            font-weight: 500;
            background: white;
            transition: 0.15s;
        }
        input[type=number]:focus {
            border-color: #2a7faa;
            outline: none;
            box-shadow: 0 0 0 3px rgba(42,127,170,0.1);
        }
        .unit {
            color: #3e6c8a;
            font-size: 0.9rem;
        }
        .slider-container {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            flex-wrap: wrap;
        }
        input[type=range] {
            width: 180px;
            height: 6px;
            background: #d0e0ec;
            border-radius: 10px;
            -webkit-appearance: none;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: #1c6c9c;
            border-radius: 20px;
            box-shadow: 0 4px 8px rgba(0,60,120,0.2);
            cursor: pointer;
            border: 2px solid white;
        }
        .stat-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.2rem;
            margin: 1.5rem 0 0.8rem;
        }
        .stat-card {
            background: white;
            border-radius: 18px;
            padding: 1rem 1.2rem;
            border: 1px solid #e2edf5;
            box-shadow: 0 2px 6px rgba(0,0,0,0.01);
        }
        .stat-label {
            font-size: 0.7rem;
            text-transform: uppercase;
            color: #5b7f93;
            letter-spacing: 0.5px;
            font-weight: 600;
        }
        .stat-number {
            font-size: 1.9rem;
            font-weight: 700;
            color: #0a3142;
            line-height: 1.1;
        }
        .stat-unit {
            font-size: 0.9rem;
            color: #4f778b;
            margin-left: 0.2rem;
        }
        .stat-desc {
            font-size: 0.8rem;
            color: #416f82;
            margin-top: 0.2rem;
        }
        .highlight-green {
            background: #dcf5e0;
            color: #0e5832;
            padding: 0.1rem 0.6rem;
            border-radius: 30px;
            font-weight: 600;
        }
        .highlight-red {
            background: #ffe0d9;
            color: #a12b1d;
            padding: 0.1rem 0.6rem;
            border-radius: 30px;
            font-weight: 600;
        }
        .divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, #aac7db, transparent);
            margin: 1.8rem 0 1.2rem;
        }
        .footnote {
            font-size: 0.8rem;
            color: #4e7085;
            margin-top: 1.2rem;
            border-top: 1px solid #cde0eb;
            padding-top: 1.2rem;
        }
        .protocol-check {
            background: #e7f0fa;
            padding: 1.2rem 1.5rem;
            border-radius: 20px;
            margin-top: 1.2rem;
        }
        button {
            background: #19647e;
            border: none;
            color: white;
            padding: 0.7rem 1.6rem;
            border-radius: 40px;
            font-weight: 600;
            font-size: 0.9rem;
            border: 1px solid rgba(255,255,255,0.2);
            cursor: pointer;
            transition: 0.1s;
        }
        button:hover {
            background: #0e4e66;
        }
        .veh-tag {
            background: #ffe8c7;
            color: #794f0a;
            padding: 0.3rem 0.8rem;
            border-radius: 30px;
            font-size: 0.8rem;
            font-weight: 600;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>âš¡ H-Boost æŸç›Šæ¨¡æ‹Ÿå™¨</h1>
    <div class="sub">
        <span class="badge">Uæœ¬ä½0.5%/æ—¥</span>
        <span class="badge">5%äº¤æ˜“ç¨</span>
        <span class="badge">è¿”ä½£0.34%</span>
        <span class="badge">ç©ºæŠ•åŠ æˆ</span>
        <span style="margin-left: 0.5rem;">å®æ—¶è®¡ç®— Â· åè®®å¹³è¡¡çº¿ Â· è–„åº•æ± æ æ†éªŒè¯</span>
    </div>

    <div class="calculator-panel">
        <!-- å·¦ä¾§è¾“å…¥åŒº -->
        <div class="input-section">
            <h3 style="margin-top: 0; margin-bottom: 1.8rem; font-weight: 600; color: #104a66;">ğŸ”§ ä½ çš„ç­–ç•¥å‚æ•°</h3>
            
            <div class="param-row">
                <span class="param-label">ğŸ”µ è´¨æŠ¼Ué‡‘é¢</span>
                <div class="param-input">
                    <input type="number" id="stakeU" value="10000" step="1000" min="100" style="width: 160px;">
                    <span class="unit">U</span>
                </div>
            </div>

            <div class="param-row">
                <span class="param-label">ğŸ’ Hå¸‚åœºä»·</span>
                <div class="param-input">
                    <input type="number" id="hPrice" value="0.001" step="0.0001" min="0.0001" max="0.01" style="width: 160px;">
                    <span class="unit">U</span>
                </div>
            </div>

            <div class="param-row">
                <span class="param-label">ğŸ§¾ veHé”ä»“åŠ æˆ</span>
                <div class="param-input slider-container">
                    <input type="range" id="boostMulti" min="1" max="3" step="0.1" value="1">
                    <span id="boostValue" style="min-width: 60px; background: #e2eef7; padding: 0.3rem 0.9rem; border-radius: 40px; font-weight: 600;">1.0x</span>
                </div>
            </div>

            <div class="param-row">
                <span class="param-label">ğŸ ç©ºæŠ•ä»·å€¼ (äº¤æ˜“é¢%)</span>
                <div class="param-input slider-container">
                    <input type="range" id="airdropRate" min="0" max="5" step="0.1" value="1.5">
                    <span id="airdropValue" style="min-width: 60px; background: #e2eef7; padding: 0.3rem 0.9rem; border-radius: 40px; font-weight: 600;">1.50%</span>
                </div>
            </div>

            <div style="background: #d9eaf3; border-radius: 18px; padding: 1.2rem; margin-top: 1.8rem;">
                <p style="margin: 0 0 0.5rem; font-weight: 600; color: #05435e;">ğŸ“Œ å›ºå®šå‚æ•° (æ¨¡å‹çº¦æŸ)</p>
                <div style="display: flex; flex-wrap: wrap; gap: 0.8rem; font-size: 0.9rem;">
                    <span>ğŸ“… Uè´¨æŠ¼æ—¥å¥–åŠ±: <strong>0.5%</strong> (Uæœ¬ä½)</span>
                    <span>ğŸ’¸ äº¤æ˜“ç¨: <strong>5%</strong> åŒå‘</span>
                    <span>â†©ï¸ OKXè¿”ä½£: <strong>0.34%</strong> äº¤æ˜“é¢</span>
                    <span>ğŸ”„ å›è´­åˆ†é…: 80%è¿”æ±  / 20%é”€æ¯</span>
                </div>
            </div>
            <p style="font-size: 0.8rem; color: #3a6072; margin-top: 1rem;">* ç©ºæŠ•ä»·å€¼æŒ‡ä½ æ¯ç¬”äº¤æ˜“é¢å¯¹åº”çš„é¢å¤–ä»£å¸å¥–åŠ±æŠ˜åˆUæ¯”ä¾‹ã€‚OKX Boostå†å²å¤šåœ¨1%~3%ä¹‹é—´ã€‚</p>
        </div>

        <!-- å³ä¾§è¾“å‡ºåŒº -->
        <div class="output-section">
            <h3 style="margin-top: 0; margin-bottom: 1.8rem; font-weight: 600; color: #104a66;">ğŸ“Š ä½ çš„æ¯æ—¥æŸç›Š</h3>
            
            <!-- ä¸»è¦æ”¶ç›Šå¡ç‰‡ -->
            <div style="display: flex; justify-content: space-between; align-items: baseline;">
                <span class="stat-label">ğŸ’° æ¯æ—¥Hå¥–åŠ± (Uç­‰å€¼)</span>
                <span style="font-size: 1.8rem; font-weight: 700; color: #0e5a4a;" id="dailyRewardU">50.00</span>
                <span class="unit">U</span>
            </div>
            <div style="display: flex; justify-content: space-between; margin-top: 0.2rem;">
                <span class="stat-label">â”• å¯¹åº”Hæ•°é‡</span>
                <span style="font-weight: 600;" id="dailyHAmount">50,000</span>
                <span class="unit">H</span>
            </div>
            
            <div class="stat-grid">
                <div class="stat-card">
                    <div class="stat-label">ğŸ“‰ äº¤æ˜“ç£¨æŸ (5%ç¨)</div>
                    <div style="font-size: 1.6rem; font-weight: 700;" id="taxAmount">2.50</div>
                    <span class="unit">Uç­‰å€¼</span>
                    <div class="stat-desc" id="taxH">-2,500 H</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">ğŸ ç©ºæŠ•æ”¶ç›Š</div>
                    <div style="font-size: 1.6rem; font-weight: 700;" id="airdropAmount">0.75</div>
                    <span class="unit">U</span>
                    <div class="stat-desc" id="airdropRateShow">1.50% äº¤æ˜“é¢</div>
                </div>
            </div>

            <!-- å‡€æ”¶ç›Š -->
            <div style="background: #dff0f9; border-radius: 24px; padding: 1.2rem 1.5rem; margin: 0.8rem 0 1.2rem;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <span style="font-weight: 600; font-size: 1.1rem;">âœ… å‡€æ—¥æ”¶ç›Š (U)</span>
                    <span style="font-size: 2.2rem; font-weight: 800; color: #0b543a;" id="netProfitU">48.25</span>
                    <span class="unit">U</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin-top: 0.2rem;">
                    <span>å¹´åŒ–æ”¶ç›Šç‡ (åŸºäºè´¨æŠ¼U)</span>
                    <span style="font-weight: 700; background: #c1e5d8; padding: 0.2rem 1rem; border-radius: 50px;" id="aprValue">176.1%</span>
                </div>
            </div>

            <!-- åè®®å¹³è¡¡ç›‘æµ‹ -->
            <div class="protocol-check">
                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.8rem;">
                    <span style="background: #2c8392; width: 10px; height: 10px; border-radius: 10px;"></span>
                    <span style="font-weight: 600; color: #063b4a;">âš–ï¸ åè®®æ”¶æ”¯çº¢çº¿ (9.36%)</span>
                </div>
                <div style="display: flex; flex-wrap: wrap; justify-content: space-between;">
                    <span>å½“å‰å…¨ç½‘TVL_U (å‡è®¾)</span>
                    <span style="font-weight: 700;"><span id="tvlDisplay">1,000,000</span> U</span>
                </div>
                <div style="display: flex; flex-wrap: wrap; justify-content: space-between; margin-top: 0.3rem;">
                    <span>æ‰€éœ€æœ€å°æ—¥äº¤æ˜“é¢</span>
                    <span style="font-weight: 700;"><span id="requiredTxVolume">93,600</span> U</span>
                </div>
                <div style="display: flex; flex-wrap: wrap; justify-content: space-between; margin-top: 0.3rem;">
                    <span>ä½ çš„ä¸ªäººäº¤æ˜“é¢</span>
                    <span style="font-weight: 700;" id="userTxVolume">50.00</span> <span class="unit">U</span>
                </div>
                <div style="margin-top: 0.8rem; padding: 0.6rem 1rem; background: rgba(255,255,255,0.5); border-radius: 20px;" id="protocolStatus">
                    âš ï¸ ä¸ªäººäº¤æ˜“é¢ä¸å½±å“çº¢çº¿ï¼Œéœ€å…¨ç½‘åˆåŠ›
                </div>
            </div>
            <p style="font-size: 0.75rem; color: #4e6d7d; margin-top: 0.8rem;">* åè®®çº¢çº¿æŒ‡å…¨ç½‘Hæ—¥äº¤æ˜“é¢ â‰¥ TVL_U Ã— 9.36%ã€‚æ­¤å¤„TVL_Ué»˜è®¤100ä¸‡Uï¼Œå¯åœ¨ä¸‹æ–¹è°ƒæ•´ã€‚</p>
        </div>
    </div>

    <!-- å…¨ç½‘å‚æ•°å¿«é€Ÿè°ƒèŠ‚ï¼ˆç®€æ˜“ï¼‰ -->
    <div style="margin-top: 1.5rem; background: #ecf3fa; border-radius: 26px; padding: 1.2rem 1.8rem;">
        <div style="display: flex; flex-wrap: wrap; align-items: center; gap: 2rem;">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <span style="font-weight: 600; color: #0a4055;">ğŸŒ å…¨ç½‘TVL_U (Uè´¨æŠ¼æ€»é‡)</span>
                <input type="number" id="globalTvl" value="1000000" step="100000" min="100000" style="width: 150px; padding: 0.5rem 1rem; border-radius: 20px; border: 1px solid #acc3d6;">
                <span class="unit">U</span>
            </div>
            <div style="display: flex; align-items: center; gap: 1rem;">
                <span style="font-weight: 600; color: #0a4055;">ğŸŒ å…¨ç½‘Hæ—¥äº¤æ˜“é¢</span>
                <input type="number" id="globalTx" value="100000" step="10000" min="0" style="width: 150px; padding: 0.5rem 1rem; border-radius: 20px; border: 1px solid #acc3d6;">
                <span class="unit">U</span>
            </div>
            <button id="updateGlobalBtn">æ›´æ–°çº¢çº¿çŠ¶æ€</button>
        </div>
    </div>

    <!-- è¯¦ç»†è§£é‡Šä¸ç£¨æŸç»“è®º -->
    <div class="divider"></div>
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.8rem;">
        <div style="background: #f4fafd; padding: 1.5rem; border-radius: 24px;">
            <span style="font-size: 1.4rem; margin-right: 0.3rem;">ğŸ§®</span>
            <span style="font-weight: 700; font-size: 1.1rem;">ç”¨æˆ·æŸç›Šå…¬å¼</span>
            <ul style="margin-top: 0.8rem; list-style: none; padding-left: 0;">
                <li style="margin-bottom: 0.4rem;">â€¢ æ¯æ—¥Hå¥–åŠ±(U) = è´¨æŠ¼U Ã— 0.5%</li>
                <li style="margin-bottom: 0.4rem;">â€¢ äº¤æ˜“é¢(U) = æ¯æ—¥Hå¥–åŠ±(U)ï¼ˆå…¨éƒ¨å–å‡ºï¼‰</li>
                <li style="margin-bottom: 0.4rem;">â€¢ äº¤æ˜“ç¨ = äº¤æ˜“é¢ Ã— 5%</li>
                <li style="margin-bottom: 0.4rem;">â€¢ ç©ºæŠ•æ”¶ç›Š = äº¤æ˜“é¢ Ã— ç©ºæŠ•ç‡</li>
                <li style="margin-bottom: 0.4rem;">â€¢ <strong>å‡€æ”¶ç›Š = Hå¥–åŠ± - äº¤æ˜“ç¨ + ç©ºæŠ•</strong></li>
            </ul>
            <p style="margin-top: 0.4rem; font-size: 0.9rem;">âœ… <strong>åªè¦ç©ºæŠ•ç‡ > 0%ï¼Œå‡€æ”¶ç›Šå³å¤§äº47.5U/ä¸‡Uï¼ˆHä»·0.001ï¼‰ã€‚ç£¨æŸå®Œå…¨ç”±ç™½å«–çš„Hè¦†ç›–ã€‚</strong></p>
        </div>
        <div style="background: #e6f0f5; padding: 1.5rem; border-radius: 24px;">
            <span style="font-size: 1.4rem; margin-right: 0.3rem;">ğŸ›¡ï¸</span>
            <span style="font-weight: 700; font-size: 1.1rem;">åè®®å¥åº·æŒ‡æ ‡</span>
            <ul style="margin-top: 0.8rem; list-style: none; padding-left: 0;">
                <li style="margin-bottom: 0.4rem;">â€¢ åè®®æ—¥æ”¶å…¥ = å…¨ç½‘Häº¤æ˜“é¢ Ã— 5.34%</li>
                <li style="margin-bottom: 0.4rem;">â€¢ æ—¥æ”¯å‡º = TVL_U Ã— 0.5%</li>
                <li style="margin-bottom: 0.4rem;">â€¢ <strong>å¹³è¡¡æ¡ä»¶ï¼šäº¤æ˜“é¢ â‰¥ TVL Ã— 9.36%</strong></li>
                <li style="margin-bottom: 0.4rem;">â€¢ å½“å‰å…¨ç½‘çŠ¶æ€ï¼š<span id="globalStatusBadge">âš–ï¸ è®¡ç®—ä¸­</span></li>
            </ul>
        </div>
    </div>
    <div class="footnote">
        âš¡ æœ¬è®¡ç®—å™¨åŸºäºç»æµæ¨¡å‹ç™½çš®ä¹¦v2.6ã€‚è–„åº•æ± ä¸‹Hä»·æ ¼ä¸Šæ¶¨ä¼šå‡å°‘å¥–åŠ±æšæ•°ï¼Œä½†ç”¨æˆ·Uæœ¬ä½æ”¶ç›Šä¸å˜ï¼Œä¸”åè®®å¹³è¡¡æ‰€éœ€äº¤æ˜“é‡(æš)ä¸‹é™ã€‚ç”¨æˆ·å‡€æ”¶ç›Šå§‹ç»ˆä¸ºæ­£ï¼ˆç©ºæŠ•ï¼0ï¼‰ã€‚æ‰€æœ‰æ•°æ®å®æ—¶æ›´æ–°ã€‚
    </div>
</div>

<script>
    (function() {
        // DOM å…ƒç´ ç»‘å®š
        const stakeU = document.getElementById('stakeU');
        const hPrice = document.getElementById('hPrice');
        const boostMulti = document.getElementById('boostMulti');
        const boostValue = document.getElementById('boostValue');
        const airdropRate = document.getElementById('airdropRate');
        const airdropValue = document.getElementById('airdropValue');
        const globalTvl = document.getElementById('globalTvl');
        const globalTx = document.getElementById('globalTx');

        // è¾“å‡ºå­—æ®µ
        const dailyRewardU = document.getElementById('dailyRewardU');
        const dailyHAmount = document.getElementById('dailyHAmount');
        const taxAmount = document.getElementById('taxAmount');
        const taxH = document.getElementById('taxH');
        const airdropAmount = document.getElementById('airdropAmount');
        const airdropRateShow = document.getElementById('airdropRateShow');
        const netProfitU = document.getElementById('netProfitU');
        const aprValue = document.getElementById('aprValue');
        const requiredTxVolume = document.getElementById('requiredTxVolume');
        const userTxVolume = document.getElementById('userTxVolume');
        const tvlDisplay = document.getElementById('tvlDisplay');
        const protocolStatus = document.getElementById('protocolStatus');
        const globalStatusBadge = document.getElementById('globalStatusBadge');

        // æ›´æ–°æ‰€æœ‰è®¡ç®—
        function updateAll() {
            // è¯»å–è¾“å…¥
            let stake = parseFloat(stakeU.value) || 10000;
            let price = parseFloat(hPrice.value) || 0.001;
            let boost = parseFloat(boostMulti.value) || 1.0;
            let airdrop = parseFloat(airdropRate.value) || 1.5;
            let tvlGlobal = parseFloat(globalTvl.value) || 1000000;
            let txGlobal = parseFloat(globalTx.value) || 100000;

            // é™åˆ¶æœ€å°å€¼
            if (stake < 100) stake = 100;
            if (price < 0.0001) price = 0.0001;
            if (airdrop < 0) airdrop = 0;
            if (tvlGlobal < 10000) tvlGlobal = 10000;

            // æ˜¾ç¤ºåŠ æˆç™¾åˆ†æ¯”
            boostValue.innerText = boost.toFixed(1) + 'x';
            airdropValue.innerText = airdrop.toFixed(2) + '%';

            // 1. æ¯æ—¥Hå¥–åŠ±ï¼ˆUç­‰å€¼ï¼‰ = è´¨æŠ¼U * 0.5% * åŠ æˆ
            let rewardU = stake * 0.005 * boost;
            // 2. å¯¹åº”Hæ•°é‡
            let rewardH = rewardU / price;
            // 3. äº¤æ˜“é¢ï¼ˆå‡è®¾å…¨éƒ¨å–å‡º/äº¤æ˜“ï¼‰= rewardU ï¼ˆå› ä¸ºå–å‡ºè·å¾—Uç­‰å€¼ï¼Œä½†äº¤æ˜“é¢æŒ‰Uæœ¬ä½ä¹Ÿæ˜¯rewardUï¼‰
            let txVolumeUser = rewardU;   // ä½ åˆ·çš„äº¤æ˜“é¢ï¼ŒUæœ¬ä½
            // 4. äº¤æ˜“ç¨ (5%)ï¼ŒUç­‰å€¼
            let taxU = txVolumeUser * 0.05;
            let taxHAmount = taxU / price;
            // 5. ç©ºæŠ•æ”¶ç›Š (äº¤æ˜“é¢ * ç©ºæŠ•ç‡%)
            let airdropU = txVolumeUser * (airdrop / 100);
            // 6. å‡€æ”¶ç›ŠU
            let netU = rewardU - taxU + airdropU;
            // 7. å¹´åŒ– (åŸºäºè´¨æŠ¼U)
            let apr = (netU / stake) * 365 * 100;

            // æ›´æ–°UI
            dailyRewardU.innerText = rewardU.toFixed(2);
            dailyHAmount.innerText = Math.round(rewardH).toLocaleString();
            taxAmount.innerText = taxU.toFixed(2);
            taxH.innerText = '-' + Math.round(taxHAmount).toLocaleString() + ' H';
            airdropAmount.innerText = airdropU.toFixed(2);
            airdropRateShow.innerText = airdrop.toFixed(2) + '% äº¤æ˜“é¢';
            netProfitU.innerText = netU.toFixed(2);
            aprValue.innerText = apr.toFixed(1) + '%';
            
            // ç”¨æˆ·äº¤æ˜“é¢å±•ç¤º
            userTxVolume.innerText = txVolumeUser.toFixed(2);

            // åè®®ä¾§: æ‰€éœ€æœ€å°æ—¥äº¤æ˜“é¢ = TVL * 9.36%
            let requiredTx = tvlGlobal * 0.0936;
            requiredTxVolume.innerText = Math.round(requiredTx).toLocaleString();
            tvlDisplay.innerText = Math.round(tvlGlobal).toLocaleString();

            // å…¨ç½‘çŠ¶æ€åˆ¤æ–­
            let statusText = '';
            let statusClass = '';
            if (txGlobal >= requiredTx) {
                statusText = 'âœ… å¥åº· Â· äº¤æ˜“é¢è¾¾æ ‡ åè®®å¯æŒç»­';
                statusClass = 'highlight-green';
            } else {
                let percent = (txGlobal / requiredTx * 100).toFixed(1);
                statusText = `âš ï¸ äº¤æ˜“é¢ä¸è¶³ (å½“å‰ ${percent}%) åè®®å¤„äºæ¶ˆè€—å¥–åŠ±æ± çŠ¶æ€`;
                statusClass = 'highlight-red';
            }
            protocolStatus.innerHTML = `<span class="${statusClass}">${statusText}</span>`;
            globalStatusBadge.innerText = txGlobal >= requiredTx ? 'âœ… è¾¾æ ‡' : 'âš ï¸ ä¸è¶³';

            // é¢å¤–æç¤ºï¼šä¸ªäººäº¤æ˜“é¢ä¸å½±å“çº¢çº¿ï¼Œä½†å±•ç¤ºä¸ªäººè´¡çŒ®
        }

        // ç›‘å¬æ‰€æœ‰è¾“å…¥äº‹ä»¶
        stakeU.addEventListener('input', updateAll);
        hPrice.addEventListener('input', updateAll);
        boostMulti.addEventListener('input', updateAll);
        airdropRate.addEventListener('input', updateAll);
        globalTvl.addEventListener('input', updateAll);
        globalTx.addEventListener('input', updateAll);
        document.getElementById('updateGlobalBtn').addEventListener('click', updateAll);

        // åˆå§‹åŒ–
        updateAll();
    })();
</script>

<!-- æ³¨ï¼šå®Œå…¨é€‚é…ç§»åŠ¨ç«¯ï¼Œæ— éœ€å¤–éƒ¨ä¾èµ– -->
</body>
</html>